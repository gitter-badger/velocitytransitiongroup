!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("velocity-animate")):"function"==typeof define&&define.amd?define(["react","velocity-animate"],e):"object"==typeof exports?exports.VelocityTransitionGroup=e(require("react"),require("velocity-animate")):t.VelocityTransitionGroup=e(t.React,t.Velocity)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="dist/",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(2),s=r(a),u=n(3),p=r(u),l=n(4),f=r(l),VelocityTransitionGroup=s["default"].createClass({displayName:"VelocityTransitionGroup",propTypes:{component:s["default"].PropTypes.any},getDefaultProps:function(){return{component:"span",appear:{opacity:[1,0]},appearOptions:{},enter:{opacity:[1,0]},enterOptions:{},leave:{opacity:0},leaveOptions:{},duration:350,wrapper:!1}},getInitialState:function(){return{children:this._getCurrentChildMapping()}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[],this.totalHeight=0,this.defaults={display:"auto",duration:this.props.duration}},componentDidMount:function(){this._appear()},componentWillReceiveProps:function(t){var e=this.state.children,n=this._getCurrentChildMapping(t.children);this.setState({children:f["default"].mergeChildMappings(e,n)});for(var r in n){var i=e&&e.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var r in e){var o=n&&n.hasOwnProperty(r);!e[r]||o||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},componentDidUpdate:function(){var t=this,e=this.keysToEnter;this.keysToEnter=[];var n=this.keysToLeave;this.keysToLeave=[],this.totalHeight=0,this._leave(n,function(){t._getTotalHeight(),e.length>0&&t._hideElements(e),t._enter(e)})},_getTotalHeight:function(){function t(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop)+parseInt(n.marginBottom)}var e=s["default"].findDOMNode(this),n=e.children,r=n.length;if(0>=r)return void(this.totalHeight=0);for(var i=0;r>i;i++)this.totalHeight+=t(n[i])},_getCurrentChildMapping:function(){var t=void 0===arguments[0]?this.props.children:arguments[0];return f["default"].getChildMapping(t,this.props.wrapper)},_hideElements:function(t){var e=this;t.forEach(function(t){var n=s["default"].findDOMNode(e.refs[t]);n.style.display="none"})},_animate:function(t,e,n,r){if(!(t.length<=0)){var i=n.complete?function(){n.complete(),r()}:r;n=o["default"].assign(this.defaults,{complete:i},n),this.props.wrapper&&p["default"](s["default"].findDOMNode(this),{height:this.totalHeight},{display:"block",duration:n.duration}),p["default"](t,e,n)}},_appear:function(){var t=this,e=this.state.children,n=[];if(e){for(var r in e)e[r]&&(n.push(s["default"].findDOMNode(this.refs[r])),this.currentlyTransitioningKeys[r]=!0);this._animate(n,this.props.appear,this.props.appearOptions,function(){for(var n in e)e[n]&&delete t.currentlyTransitioningKeys[n]})}},_enter:function(t){var e=this,n=[];t.forEach(function(t){n.push(s["default"].findDOMNode(e.refs[t])),e.currentlyTransitioningKeys[t]=!0}),this._animate(n,this.props.enter,this.props.enterOptions,function(){t.forEach(function(t){delete e.currentlyTransitioningKeys[t]})})},_leave:function(t,e){var n=this,r=[];t.length<=0&&e(),t.forEach(function(t){r.push(s["default"].findDOMNode(n.refs[t])),n.currentlyTransitioningKeys[t]=!0}),this._animate(r,this.props.leave,this.props.leaveOptions,function(){t.forEach(function(t){delete n.currentlyTransitioningKeys[t]}),n.setState(function(e){var n=o["default"].assign({},e.children);return t.forEach(function(t){delete n[t]}),{children:n}},e)})},render:function(){var t=[];for(var e in this.state.children){var n=this.state.children[e];if(n){var r=s["default"].cloneElement(n,{ref:e,key:e});t.push(r)}}return s["default"].createElement(this.props.component,this.props,t)}});e["default"]=VelocityTransitionGroup,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={assign:function(t,e){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(t),r=Object.prototype.hasOwnProperty,i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o){var a=Object(o);for(var s in a)r.call(a,s)&&(n[s]=a[s])}}return n}},t.exports=e["default"]},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(2),o=(r(i),{getChildMapping:function(t){void 0===arguments[1]?!1:arguments[1];if(!t)return t;Array.isArray(t)||(t=[t]);var e={};return t.forEach(function(t){e[t.key]=t}),e},mergeChildMappings:function(){function t(t){return n.hasOwnProperty(t)?n[t]:e[t]}var e=void 0===arguments[0]?{}:arguments[0],n=void 0===arguments[1]?{}:arguments[1],r={},i=[];for(var o in e)n.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a={};for(var s in n){if(r.hasOwnProperty(s))for(var u=0;u<r[s].length;u++){var p=r[s][u];a[r[s][u]]=t(p)}a[s]=t(s)}for(var u=0;u<i.length;u++)a[i[u]]=t(i[u]);return a}});t.exports=o}])});